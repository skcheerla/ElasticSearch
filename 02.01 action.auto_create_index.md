## What is `action.auto_create_index` in Elasticsearch?

![Image](https://cdn.sanity.io/images/me0ej585/search-labs-import-testing/abe4a7118c7964c73e8a8e38339ab4c0355d27d3-854x480.png?utm_source=chatgpt.com)

![Image](https://www.elastic.co/docs/manage-data/images/elasticsearch-reference-management_index_create_wizard.png?utm_source=chatgpt.com)

![Image](https://www.elastic.co/docs/deploy-manage/images/elasticsearch-reference-data_processing_flow.png?utm_source=chatgpt.com)

`action.auto_create_index` controls **whether Elasticsearch automatically creates an index** when a document is indexed into a **non-existing index**.

---

## ğŸ”¹ Default Behavior

```yaml
action.auto_create_index: true
```

â¡ï¸ If you send a document to an index that does not exist, Elasticsearch **creates the index automatically** with:

* Default settings
* Dynamic mappings

Example:

```http
POST logs-2025/_doc
{
  "message": "Service started"
}
```

âœ” Index `logs-2025` is created automatically.

---

## ğŸ”’ Disable Auto Index Creation (Recommended for Production)

```yaml
action.auto_create_index: false
```

Now this request:

```http
POST logs-2025/_doc
```

âŒ Fails with:

```json
index_not_found_exception
```

âœ” Forces teams to **create indexes explicitly** using templates and mappings.

---

## ğŸ¯ Allow / Deny Using Patterns (Best Practice)

You can **allow specific index patterns only**.

```yaml
action.auto_create_index: "+logs-*,+metrics-*, -.*"
```

### Meaning:

| Pattern      | Behavior                    |
| ------------ | --------------------------- |
| `+logs-*`    | Allow auto-create           |
| `+metrics-*` | Allow auto-create           |
| `-.*`        | Block system/hidden indexes |

---

## ğŸ§  Why This Setting Matters

### âœ… Advantages

* Prevents accidental index creation due to typos
* Enforces correct mappings
* Improves data quality
* Avoids shard explosion

### âŒ Risks if Enabled Everywhere

* Index created due to typo (`logss-2025`)
* Wrong field mappings
* Performance degradation
* Difficult cleanup

---

## ğŸ­ Production Recommendation

**Best setup:**

```yaml
action.auto_create_index: "+logs-*,+traces-*,+metrics-*, -.*"
```

And manage structure using:

* Index templates
* Index Lifecycle Management (ILM)
* Aliases

---

## ğŸ”‘ Interview-Ready Answer

> *â€œ`action.auto_create_index` controls whether Elasticsearch auto-creates indexes when indexing into a non-existing index. In production, we disable it globally and allow only specific index patterns to avoid accidental index creation and enforce mappings.â€*

---

If you want next, I can explain:

* Index templates vs auto creation
* Dynamic mappings impact
* Why system indexes should be blocked
* Real production incidents caused by this setting

Just tell me ğŸ‘
